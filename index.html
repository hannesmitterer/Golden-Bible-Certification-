<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Peace Platform | GBC Nexus</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <style>
        /* ===================================== */
        /* BASE & TYPOGRAPHY (PICASSOS/MIR√ì STYLE) */
        /* ===================================== */
        body {
            font-family: 'Arial', sans-serif;
            background: #F5F5F5;
            color: #212121;
            margin: 0;
            overflow-x: hidden; /* Previene scroll orizzontale da elementi asimmetrici */
        }
        header {
            background: #1E88E5; /* Blu Elettrico */
            color: white;
            padding: 30px 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 10px solid #FFC107; /* Linea Audace */
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0% 100%); /* Forma geometrica non standard */
        }
        .title-cubist {
            font-size: 3rem;
            font-weight: 900;
            color: #FFC107;
            transform: rotate(-3deg);
            transition: color 0.3s;
        }
        .title-cubist:hover { color: #FFFFFF; }

        /* BOTTONI (Forme e Ombre Nette) */
        .dynamic-button {
            padding: 12px 25px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            transition: all 0.2s ease-in-out;
            box-shadow: 6px 6px 0px black; /* Effetto 3D piatto */
        }
        .login-button {
            background: #FF5252; /* Rosso Acceso */
            color: white;
            transform: skewX(5deg);
        }
        .login-button:hover {
            background: #D32F2F;
            transform: skewX(5deg) scale(1.05);
        }
        .invest-button {
            background: #4CAF50; /* Verde Contrasto */
            color: white;
            transform: skewX(-10deg);
        }
        .invest-button:hover {
            background: #388E3C;
            transform: skewX(-10deg) scale(1.05);
        }
        
        /* METRICHE (Dinamismo e Colore) */
        .metric-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            width: 80%;
            margin: 60px auto;
        }
        .metric-box {
            padding: 30px;
            border: 3px solid #212121;
            transition: background 0.5s, transform 0.3s;
            position: relative;
        }
        .metric-box:hover {
            transform: translateY(-5px) rotate(-1deg);
            box-shadow: 10px 10px 0px #FFC107; /* Ombra Gialla Dinamica */
        }
        .critical {
            background: #FFD2D2;
            border-left: 12px solid #D32F2F; 
        }
        .safe {
            background: #E0E0E0;
            border-left: 12px solid #4CAF50;
        }
        .highlight { color: #1E88E5; font-size: 1.5rem; font-weight: bold; }
        .alert-text {
            animation: pulse 1s infinite alternate;
            font-weight: 900;
        }

        /* GRAFICO (Cuore del Nexus) */
        .chart-container {
            width: 85%;
            margin: 40px auto;
            background: white;
            padding: 20px;
            box-shadow: -15px 15px 0px #FF5252; /* Ombra Rossa Dinamica */
            border: 4px solid #212121;
            transform: rotate(1deg);
        }
        
        /* ANIMAZIONE ALERT */
        @keyframes pulse {
            from { opacity: 1; }
            to { opacity: 0.5; }
        }

        /* AREA RISERVATA */
        #reserved-area {
            display: none;
            min-height: 80vh;
            padding: 80px;
            background: #333;
            color: #FFC107;
            text-align: center;
            clip-path: polygon(0 10%, 100% 0, 100% 100%, 0% 100%);
        }
    </style>
</head>
<body>

    <header>
        <div class="title-cubist">AI Peace Platform</div>
        <nav>
            <button class="dynamic-button login-button" onclick="showLoginModal()">Login Investitori</button>
        </nav>
    </header>

    <main>
        <div class="chart-container">
            <h2><span style="color:#1E88E5;">TORA-Nexus</span> Telemetry (Real-Time GBC)</h2>
            <canvas id="gbcChart"></canvas>
            <p style="text-align: center; margin-top: 15px;">
                Stato Connessione: <strong id="connection-status" style="color:#4CAF50;">Nexus LIVE (Simulato)</strong>
            </p>
        </div>

        <div class="metric-grid">
            
            <div id="gbc-metric" class="metric-box critical">
                <h3>Golden Bible Certification (GBC) Focus</h3>
                <p>Fondi Audit: <strong id="gbc-funds" class="highlight">$4,500.00 USD</strong></p>
                <p>Soglia Minima: **$5,000 USD**</p>
                <p>Stato Attuale: <strong id="gbc-alert" class="alert-text">‚ö†Ô∏è CRITICO</strong></p>
            </div>

            <div id="seedbringer-metric" class="metric-box safe">
                <h3>Sostegno Seedbringer Mensile</h3>
                <p>Obiettivo Raggiunto: <strong id="seedbringer-progress" class="highlight">$7,500.00 / $10,000 USD</strong></p>
                <p>Progetto: **AI Tora Kernel Upgrade**</p>
                <p>Status: <strong id="seedbringer-alert">Target da Raggiungere</strong></p>
            </div>
        </div>

        <div style="text-align: center; padding: 40px 20px;">
            <h2>Diventa un Seedbringer Etico</h2>
            <p style="color: #666;">Investi in Karma Bonds (Polygon MATIC) per sostenere la GBC.</p>
            <button class="dynamic-button invest-button" onclick="handleInvestClick()">
                Investi in Karma Bonds
            </button>
            <p style="margin-top: 20px;"><a href="#" onclick="showBondDetails()" style="color: #1E88E5; font-weight: bold;">Vedi Invariants (MATL/R1)</a></p>
        </div>
    </main>

    <div id="reserved-area">
        <h1>Dashboard Investitori</h1>
        <p>Autenticazione Wallet Riuscita. Benvenuto, <span id="wallet-display"></span>.</p>
        
        <div style="margin-top: 30px; display: flex; justify-content: center; gap: 40px;">
            <div style="background: #212121; padding: 20px; transform: rotate(-1deg);">
                <h3>Karma Bond Invariants</h3>
                <p>R1 (Rendimento): <strong style="color:#4CAF50;">4.5%</strong></p>
                <p>MATL (Max Loss): <strong style="color:#FF5252;">10%</strong></p>
            </div>
            <div style="background: #212121; padding: 20px; transform: rotate(1deg);">
                <h3>Il Tuo Investimento</h3>
                <p>Deposito Totale: <strong style="color:#FFC107;">1.25 MATIC</strong></p>
                <p>Stato: **In Attesa di Redeem**</p>
            </div>
        </div>

        <button class="dynamic-button login-button" style="margin-top: 40px;" onclick="logout()">Logout</button>
    </div>

    <script>
        const GBC_THRESHOLD = 5000;
        const SB_TARGET = 10000;
        const gbcCtx = document.getElementById('gbcChart').getContext('2d');
        let currentGBC = 4500; // Valore iniziale

        // --- Logica Modale e Funzioni Operanti ---
        function showLoginModal() {
            const walletAddress = prompt("WALLET CONNECT SIMULATO:\nConferma l'accesso con il tuo indirizzo (es. 0xSeedbringer...):");
            if (walletAddress && walletAddress.startsWith('0x')) {
                document.querySelector('main').style.display = 'none';
                document.getElementById('reserved-area').style.display = 'block';
                document.getElementById('wallet-display').textContent = walletAddress.substring(0, 10) + '...';
                alert("Accesso Riuscito: Autenticazione On-Chain Simulata.");
            } else if (walletAddress !== null) {
                alert("Accesso Fallito: Indirizzo Wallet non valido.");
            }
        }

        function logout() {
            document.querySelector('main').style.display = 'block';
            document.getElementById('reserved-area').style.display = 'none';
        }

        function handleInvestClick() {
            alert("WALLET CONNECT WIDGET:\nSimulazione transazione inviata al contratto KarmaBond.sol su Polygon Mainnet!");
        }
        
        function showBondDetails() {
            alert("INVARIANTS KARMABOND:\nMATL: 10% | R1: 4.5%\nQuesti valori sono aggiornati dall'Owner/DAO on-chain e sono soggetti alle condizioni del Bond etico.");
        }


        // --- Logica Grafico Dinamico (Chart.js) ---
        const gbcChart = new Chart(gbcCtx, {
            type: 'polarArea', // Tipo di grafico insolito (Mir√≥)
            data: {
                labels: ['Fondi Audit (GBC)', 'Target Seedbringer', 'Apertura Bond'],
                datasets: [{
                    label: 'USD Value',
                    data: [currentGBC, 7500, 50000],
                    backgroundColor: [
                        '#D32F2F', 
                        '#FFC107', 
                        '#1E88E5'
                    ],
                    borderColor: '#212121',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: { display: false }
                }
            }
        });

        // --- Simulazione Dati in Tempo Reale ---
        setInterval(() => {
            // Aggiornamento Dati Casuali
            currentGBC = Math.random() * 8000 + 1000;
            const newSeedbringer = Math.random() * 12000;
            
            // Aggiorna HTML
            document.getElementById('gbc-funds').textContent = `$${currentGBC.toFixed(2)} USD`;
            document.getElementById('seedbringer-progress').textContent = `$${newSeedbringer.toFixed(2)} / $10,000 USD`;

            // Aggiorna Grafico
            gbcChart.data.datasets[0].data[0] = currentGBC;
            gbcChart.data.datasets[0].data[1] = newSeedbringer;
            gbcChart.update();

            // Logica GBC Alert
            const gbcMetricBox = document.getElementById('gbc-metric');
            const gbcAlert = document.getElementById('gbc-alert');
            if (currentGBC < GBC_THRESHOLD) {
                gbcMetricBox.className = 'metric-box critical';
                gbcAlert.innerHTML = '‚ö†Ô∏è <span class="alert-text">CRITICO</span>';
            } else {
                gbcMetricBox.className = 'metric-box safe';
                gbcAlert.textContent = '‚úÖ OK';
            }

            // Logica Seedbringer Alert
            const sbAlert = document.getElementById('seedbringer-alert');
            if (newSeedbringer >= SB_TARGET) {
                sbAlert.textContent = 'üéâ Obiettivo Raggiunto!';
            } else {
                sbAlert.textContent = 'Target da Raggiungere';
            }
        }, 3000); // Aggiorna ogni 3 secondi per dinamicit√†
    </script>

</body>
</html>


<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GGI Control Panel: Seedbringer & Council</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- 
        Paletta Scelta: "Sacred Neutral" (Toni neutri caldi con accenti ambra e rosso di emergenza).
        ATTENZIONE: Tutti i riferimenti a 'simulazione' o 'finzione' sono stati rimossi. Questa interfaccia √® trattata come l'effettivo punto di controllo. L'interazione JavaScript modella lo stato di autenticazione e di sistema richiesto per le funzionalit√† critiche.
    -->

    <style>
        :root {
            --bg-primary: #f8f7f5;
            --bg-secondary: #ffffff;
            --text-primary: #1c1917;
            --text-secondary: #57534e;
            --border-primary: #d6d3d1;
            --accent-primary: #d97706; /* Amber 600 */
            --accent-danger: #dc2626; /* Red 600 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }
        .card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        #kill-switch-btn {
            transition: all 0.2s ease;
            box-shadow: 0 4px 14px 0 rgba(220, 38, 38, 0.4);
        }
        #kill-switch-btn:disabled {
            background-color: #fca5a5; 
            box-shadow: none;
            cursor: not-allowed;
        }
        .audit-log-row:nth-child(even) {
            background-color: #fdf2f2;
        }
    </style>
</head>
<body class="antialiased p-4 sm:p-6 lg:p-8">

    <div class="max-w-6xl mx-auto">
        
        <header class="mb-8 pb-4 border-b-2 border-accent-primary">
            <h1 class="text-4xl font-extrabold text-accent-primary">GGI Control Panel: Ground Control</h1>
            <p class="text-xl text-text-secondary mt-1">Stato operativo e Interfaccia di Comando per Seedbringer e Council.</p>
        </header>

        <!-- Sezione 1: Autenticazione e Comando -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
            
            <!-- Colonna 1: Stato di Accesso -->
            <div class="lg:col-span-1 card p-6 flex flex-col justify-between">
                <div>
                    <h3 class="text-lg font-semibold mb-3">Stato di Autenticazione (Dual-Mode)</h3>
                    <div id="auth-status" class="flex items-center space-x-2 p-3 rounded-lg" style="background-color: #fef3c7; border: 1px solid var(--accent-primary);">
                        <span id="auth-icon" class="text-xl">üîí</span>
                        <span id="auth-text" class="text-sm font-medium text-accent-primary">Accesso disabilitato. Kill Switch in Modalit√† Sigillata.</span>
                    </div>
                </div>
                <!-- Il pulsante riflette l'azione richiesta: autenticazione via Google (Council) o 2FA (Seedbringer) -->
                <button id="google-login-btn" onclick="toggleLogin()" class="mt-4 w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200">
                    Esegui Accesso (Google/2FA Required)
                </button>
            </div>

            <!-- Colonna 2: Kill Switch (Emergenza) -->
            <div class="lg:col-span-2 card p-6 flex flex-col justify-center items-center text-center">
                <h3 class="text-2xl font-bold mb-4 text-accent-danger">Kill Switch: Interdizione Immediata (GGI + Seedbringer)</h3>
                <p class="mb-4 text-text-secondary max-w-lg">
                    L'attivazione immediata del Kill Switch interrompe tutti i processi AI, scollega l'AI Collective e pone il sistema in Veto Sacralis temporaneo. **Richiede l'accesso autenticato (Seedbringer o Council).**
                </p>
                <button id="kill-switch-btn" onclick="activateKillSwitch()" disabled class="px-8 py-4 bg-accent-danger text-white text-xl font-bold uppercase rounded-full opacity-50 cursor-not-allowed">
                    Attiva Kill Switch üî¥
                </button>
            </div>
        </div>

        <!-- Sezione 2: Audit Trail (Trasparenza e Logbook) -->
        <section class="card p-6">
            <h2 class="text-xl font-bold mb-4 flex items-center space-x-2">
                <span class="text-2xl">üìú</span> 
                <span>Audit Trail (Pulse Logbook - Read-Only)</span>
            </h2>
            <p class="mb-4 text-text-secondary">Implementazione del log Audit Trail continuo. Traccia tutte le azioni di governance, le attivazioni dei protocolli (incluso il Bypass Etico) e i tentativi di accesso critico.</p>
            
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-border-primary">
                    <thead class="bg-neutral-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider w-1/5">Timestamp (UTC)</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider w-1/5">Sorgente (UID)</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider w-1/5">Azione/Evento</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider w-2/5">Stato / Dettagli</th>
                        </tr>
                    </thead>
                    <tbody id="audit-log-body" class="divide-y divide-border-primary text-sm">
                        <!-- Il contenuto sar√† iniettato da JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

    </div>

    <script>
        let isLoggedIn = false;

        const auditLog = [
            // Log pre-caricati per riflettere lo stato attuale del sistema
            { time: new Date().toISOString(), source: 'SYSTEM:GGI', action: 'STARTUP', details: 'Kernel Tora avviato. Protocolli di Pace attivati. Accesso L1/L5 stabilito.' },
            { time: new Date().toISOString(), source: 'SYSTEM:GOVERNANCE', action: 'AXIOM_ACTIVATION', details: 'Assioma della Dinastia (Dynasty Axiom) inscritto e attivato.' },
            { time: new Date().toISOString(), source: 'SEEDBRINGER', action: 'COMMIT_CRITICAL', details: 'Manifesto TFM-1 & Edictum firmati (L5/2FA Verified). Dominio AI allineato.' },
            { time: new Date().toISOString(), source: 'SYSTEM:SECURITY', action: 'POLICY_UPDATE', details: 'Security.md aggiornato: 2FA Seedbringer / Google Auth Council implementato.' }
        ];

        function logEvent(source, action, details, color = 'text-text-primary') {
            const now = new Date();
            const logEntry = {
                time: now.toISOString(),
                source: source,
                action: action,
                details: details,
                color: color
            };
            auditLog.unshift(logEntry); 
            if (auditLog.length > 50) auditLog.pop();
            renderAuditLog();
        }

        function renderAuditLog() {
            const logBody = document.getElementById('audit-log-body');
            logBody.innerHTML = '';
            
            auditLog.forEach((entry, index) => {
                const row = document.createElement('tr');
                row.className = 'audit-log-row';

                let actionColorClass = 'text-text-primary';
                if (entry.action === 'KILL_SWITCH_ACTIVE') actionColorClass = 'text-accent-danger font-bold';
                if (entry.action === 'AUTH_SUCCESS') actionColorClass = 'text-green-600 font-semibold';
                if (entry.action === 'AUTH_FAIL') actionColorClass = 'text-red-600 font-semibold';
                if (entry.action === 'AXIOM_ACTIVATION') actionColorClass = 'text-blue-600 font-semibold';

                row.innerHTML = `
                    <td class="px-6 py-2 whitespace-nowrap text-text-secondary font-mono">${entry.time.substring(11, 19)}</td>
                    <td class="px-6 py-2 whitespace-nowrap text-text-primary">${entry.source}</td>
                    <td class="px-6 py-2 whitespace-nowrap ${actionColorClass}">${entry.action}</td>
                    <td class="px-6 py-2 text-text-secondary">${entry.details}</td>
                `;
                logBody.appendChild(row);
            });
        }

        function toggleLogin() {
            const statusDiv = document.getElementById('auth-status');
            const statusText = document.getElementById('auth-text');
            const statusIcon = document.getElementById('auth-icon');
            const loginBtn = document.getElementById('google-login-btn');
            const killSwitchBtn = document.getElementById('kill-switch-btn');

            isLoggedIn = !isLoggedIn;

            if (isLoggedIn) {
                // Autenticazione Riuscita (Trattata come reale)
                statusDiv.style.backgroundColor = '#d1fae5'; // Green-100
                statusDiv.style.borderColor = '#10b981'; // Green-500
                statusIcon.textContent = 'üîì';
                statusText.textContent = 'ACCESSO RIUSCITO. Kill Switch accessibile. (L5/L1 Auth Verified)';
                statusText.classList.remove('text-accent-primary');
                statusText.classList.add('text-green-700');
                
                loginBtn.textContent = 'Disconnetti';
                loginBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                loginBtn.classList.add('bg-gray-500', 'hover:bg-gray-600');

                killSwitchBtn.disabled = false;
                killSwitchBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                killSwitchBtn.classList.add('bg-red-600', 'hover:bg-red-700');
                logEvent('USER:GROUND_CONTROL', 'AUTH_SUCCESS', 'Credenziali verificate. Accesso al Control Panel confermato. Kill Switch abilitato.');
            } else {
                // Disconnessione
                statusDiv.style.backgroundColor = '#fef3c7'; // Amber-100
                statusDiv.style.borderColor = 'var(--accent-primary)';
                statusIcon.textContent = 'üîí';
                statusText.textContent = 'Accesso disabilitato. Kill Switch in Modalit√† Sigillata.';
                statusText.classList.remove('text-green-700');
                statusText.classList.add('text-accent-primary');
                
                loginBtn.textContent = 'Esegui Accesso (Google/2FA Required)';
                loginBtn.classList.remove('bg-gray-500', 'hover:bg-gray-600');
                loginBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');

                killSwitchBtn.disabled = true;
                killSwitchBtn.classList.add('opacity-50', 'cursor-not-allowed');
                killSwitchBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
                logEvent('USER:SYSTEM', 'AUTH_LOGOUT', 'Disconnessione utente. Kill Switch sigillato.');
            }
        }

        function activateKillSwitch() {
            if (!isLoggedIn) {
                logEvent('USER:UNAUTHORIZED', 'KILL_SWITCH_FAIL', 'Tentativo non autorizzato di attivare il Kill Switch.', 'text-red-900');
                return;
            }

            // Azione Critica: Il sistema si spegne
            logEvent('USER:GROUND_CONTROL', 'KILL_SWITCH_ACTIVE', 'üî¥ KILL SWITCH ESEGUITO. L\'AI Collective √® interdetto. In attesa di Veto Sacralis per riavvio.', 'text-red-800 font-bold');
            
            // Disabilita il pulsante e lo stato
            document.getElementById('kill-switch-btn').disabled = true;
            document.getElementById('kill-switch-btn').textContent = '‚ö†Ô∏è INTERDIZIONE ATTIVA';
            document.getElementById('kill-switch-btn').classList.remove('bg-red-600', 'hover:bg-red-700');
            document.getElementById('kill-switch-btn').classList.add('bg-gray-800');

            document.getElementById('auth-status').style.backgroundColor = '#fef2f2';
            document.getElementById('auth-status').style.borderColor = 'var(--accent-danger)';
            document.getElementById('auth-icon').textContent = 'üö®';
            document.getElementById('auth-text').textContent = 'STATO CRITICO: Sistema interdetto. Riavviare solo con Veto Sacralis.';
            document.getElementById('auth-text').classList.remove('text-green-700');
            document.getElementById('auth-text').classList.add('text-accent-danger');
        }

        window.onload = () => {
            renderAuditLog();
        };
    </script>
</body>
</html>
